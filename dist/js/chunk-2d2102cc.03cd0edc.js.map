{"version":3,"sources":["webpack:///./src/views/Cart.vue","webpack:///./src/views/Cart.vue?7a75"],"names":["class","style","id","colspan","type","deleteAllCarts","cartData","carts","cart","deleteSingleCart","product","title","min","qty","editCart","total","final_total","data","methods","getCartAPI","url","this","$http","get","then","res","success","alert","message","cartid","productid","parseInt","put","delete","created","render"],"mappings":"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","file":"js/chunk-2d2102cc.03cd0edc.js","sourcesContent":["<template>\r\n  <h1>cart</h1>\r\n     <!-- 購物車列表 -->\r\n          <div class=\"text-end\">\r\n            <button class=\"btn btn-outline-danger\" type=\"button\" @click=\"deleteAllCarts\">清空購物車</button>\r\n          </div>\r\n          <table class=\"table align-middle\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>品名</th>\r\n                <th style=\"width: 150px\">數量/單位</th>\r\n                <th>單價</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <template v-for =\"cart in cartData.carts\" :key=\"cart.id\">\r\n                <tr >\r\n                  <td>\r\n                    <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click='deleteSingleCart(cart.id)'>\r\n                      <i class=\"fas fa-spinner fa-pulse\"></i>\r\n                      x\r\n                    </button>\r\n                  </td>\r\n                  <td>\r\n                    {{cart.product.title  }}\r\n                    <div class=\"text-success\">\r\n                      已套用優惠券\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"input-group input-group-sm\">\r\n                      <div class=\"input-group mb-3\">\r\n                        <input \r\n                             min=\"1\" type=\"number\" class=\"form-control\" v-model=\"cart.qty\" @blur=\"editCart(cart.id,cart.product.id,cart.qty)\">\r\n                        <span class=\"input-group-text\" id=\"basic-addon2\">{{  }}</span>\r\n                      </div>\r\n                    </div>\r\n                  </td>                 \r\n                  <td class=\"text-end\">\r\n                    <small class=\"text-success\">折扣價：</small>\r\n                    {{cart. total }}\r\n                  </td>\r\n                </tr>\r\n              </template>\r\n            </tbody>\r\n            <tfoot>\r\n              <tr>\r\n                <td colspan=\"3\" class=\"text-end\">總計</td>\r\n                <td class=\"text-end\">{{ cartData.total }}</td>\r\n              </tr>\r\n              <tr>\r\n                <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n                <td class=\"text-end text-success\">{{ cartData.final_total }}</td>\r\n              </tr>\r\n            </tfoot>\r\n          </table>\r\n    <!--訂單聯絡資訊-->\r\n        \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data(){\r\n    return{\r\n      cartData:[]\r\n    }\r\n  },\r\n  methods:{\r\n   getCartAPI(){\r\n    const url ='https://vue3-course-api.hexschool.io/api/shang/cart';\r\n     this.$http.get(url).then(res=>{\r\n       if(res.data.success){\r\n       this.cartData =res.data.data;           \r\n       }\r\n       else{\r\n         alert(res.data.message)\r\n       }\r\n       \r\n     })\r\n    },\r\n    editCart(cartid,productid,qty){\r\n      //轉換型別\r\n      qty = parseInt(qty);\r\n        const url =`https://vue3-course-api.hexschool.io/api/shang/cart/${cartid}`;\r\n     this.$http.put(url,{ \"data\": { \"product_id\":productid,\"qty\":qty } }).then(res=>{\r\n       if(res.data.success){\r\n                 alert(res.data.message);\r\n                this.getCartAPI()  \r\n       }\r\n       else{\r\n         alert(res.data.message)\r\n       }\r\n       \r\n     })     \r\n    },\r\n    deleteSingleCart(cartid){\r\n            const url =`https://vue3-course-api.hexschool.io/api/shang/cart/${cartid}`;\r\n     this.$http.delete(url).then(res=>{\r\n       if(res.data.success){\r\n                 alert(res.data.message);\r\n                this.getCartAPI()  \r\n       }\r\n       else{\r\n         alert(res.data.message)\r\n       }\r\n       \r\n     })\r\n    },\r\n    deleteAllCarts(){\r\n         const url =`https://vue3-course-api.hexschool.io/api/shang/carts`;\r\n     this.$http.delete(url).then(res=>{\r\n       if(res.data.success){\r\n                 alert(res.data.message);\r\n                this.getCartAPI()  \r\n       }\r\n       else{\r\n         alert(res.data.message)\r\n       }\r\n       \r\n     })\r\n\r\n    }\r\n  },\r\n  created(){\r\n   this.getCartAPI()\r\n  }\r\n}\r\n</script>","import { render } from \"./Cart.vue?vue&type=template&id=2989ff64\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}