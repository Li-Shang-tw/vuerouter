(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2102cc"],{b789:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),s=Object(c["f"])("h1",null,"cart",-1),n={class:"text-end"},l={class:"table align-middle"},u=Object(c["f"])("thead",null,[Object(c["f"])("tr",null,[Object(c["f"])("th"),Object(c["f"])("th",null,"品名"),Object(c["f"])("th",{style:{width:"150px"}},"數量/單位"),Object(c["f"])("th",null,"單價")])],-1),r=Object(c["f"])("i",{class:"fas fa-spinner fa-pulse"},null,-1),o=Object(c["e"])(" x "),d=Object(c["f"])("div",{class:"text-success"}," 已套用優惠券 ",-1),i={class:"input-group input-group-sm"},b={class:"input-group mb-3"},f={class:"input-group-text",id:"basic-addon2"},p={class:"text-end"},j=Object(c["f"])("small",{class:"text-success"},"折扣價：",-1),O=Object(c["f"])("td",{colspan:"3",class:"text-end"},"總計",-1),h={class:"text-end"},g=Object(c["f"])("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),v={class:"text-end text-success"};function m(t,e,a,m,x,C){return Object(c["o"])(),Object(c["d"])(c["a"],null,[s,Object(c["f"])("div",n,[Object(c["f"])("button",{class:"btn btn-outline-danger",type:"button",onClick:e[1]||(e[1]=function(){return C.deleteAllCarts&&C.deleteAllCarts.apply(C,arguments)})},"清空購物車")]),Object(c["f"])("table",l,[u,Object(c["f"])("tbody",null,[(Object(c["o"])(!0),Object(c["d"])(c["a"],null,Object(c["s"])(x.cartData.carts,(function(t){return Object(c["o"])(),Object(c["d"])("tr",{key:t.id},[Object(c["f"])("td",null,[Object(c["f"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return C.deleteSingleCart(t.id)}},[r,o],8,["onClick"])]),Object(c["f"])("td",null,[Object(c["e"])(Object(c["v"])(t.product.title)+" ",1),d]),Object(c["f"])("td",null,[Object(c["f"])("div",i,[Object(c["f"])("div",b,[Object(c["A"])(Object(c["f"])("input",{min:"1",type:"number",class:"form-control","onUpdate:modelValue":function(e){return t.qty=e},onBlur:function(e){return C.editCart(t.id,t.product.id,t.qty)}},null,40,["onUpdate:modelValue","onBlur"]),[[c["x"],t.qty]]),Object(c["f"])("span",f,Object(c["v"])(),1)])])]),Object(c["f"])("td",p,[j,Object(c["e"])(" "+Object(c["v"])(t.total),1)])])})),128))]),Object(c["f"])("tfoot",null,[Object(c["f"])("tr",null,[O,Object(c["f"])("td",h,Object(c["v"])(x.cartData.total),1)]),Object(c["f"])("tr",null,[g,Object(c["f"])("td",v,Object(c["v"])(x.cartData.final_total),1)])])])],64)}var x={data:function(){return{cartData:[]}},methods:{getCartAPI:function(){var t=this,e="https://vue3-course-api.hexschool.io/api/shang/cart";this.$http.get(e).then((function(e){e.data.success?t.cartData=e.data.data:alert(e.data.message)}))},editCart:function(t,e,a){var c=this;a=parseInt(a);var s="https://vue3-course-api.hexschool.io/api/shang/cart/".concat(t);this.$http.put(s,{data:{product_id:e,qty:a}}).then((function(t){t.data.success?(alert(t.data.message),c.getCartAPI()):alert(t.data.message)}))},deleteSingleCart:function(t){var e=this,a="https://vue3-course-api.hexschool.io/api/shang/cart/".concat(t);this.$http.delete(a).then((function(t){t.data.success?(alert(t.data.message),e.getCartAPI()):alert(t.data.message)}))},deleteAllCarts:function(){var t=this,e="https://vue3-course-api.hexschool.io/api/shang/carts";this.$http.delete(e).then((function(e){e.data.success?(alert(e.data.message),t.getCartAPI()):alert(e.data.message)}))}},created:function(){this.getCartAPI()}};x.render=m;e["default"]=x}}]);
//# sourceMappingURL=chunk-2d2102cc.03cd0edc.js.map